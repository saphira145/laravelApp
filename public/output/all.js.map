{"version":3,"sources":["js.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["'use strict';\r\n\r\n// Search ajax\r\nvar search = (function(){       \r\n\r\n    // Varriables\r\n    var $list_student = $(\".list-student\");\r\n    var $search_button = $(\"#search_button\");\r\n    var $search_key = $(\"#search_key\");\r\n    var url;\r\n    var search_key;\r\n\r\n    // Bind Events\r\n    $search_button.on('click', searchAjax);\r\n    $search_key.keypress(enterPress);\r\n\r\n    function cacheValue() {\r\n        search_key = $search_key.val();\r\n        url = 'students/searchAndPaginateAjax?search_key=' + search_key;\r\n    }\r\n\r\n    function searchAjax() {\r\n        cacheValue();\r\n        $.ajax({\r\n            url : url,\r\n            type : 'get',\r\n            dataType: 'html',\r\n            beforeSend : function() {\r\n                $(\".ajax-loading\").show();\r\n            },\r\n            error : function() {\r\n                //\r\n            },\r\n            success : function(response) {\r\n                $list_student.html(response);\r\n            }.bind(this)\r\n        });\r\n    }\r\n    function enterPress(e) {\r\n        if (e.which === 13) {\r\n            $search_button.click();\r\n        }\r\n    }\r\n\r\n    function getSearchKey() {\r\n        return search_key;\r\n    }\r\n\r\n    return {\r\n        getSearchKey : getSearchKey\r\n    };\r\n\r\n})();\r\n\r\n// Pagination ajax\r\nvar pagination = (function(){\r\n    \r\n    // Varriables\r\n    var $list_student = $(\".list-student\");\r\n    var url;\r\n    var search_key;\r\n    var pageIndex;     \r\n    \r\n    // Bind Events\r\n    $list_student.on('click', '.pagination > li', paginateAjax.bind(this));\r\n    \r\n    function cacheValue() {\r\n        url = 'students/searchAndPaginateAjax?page=' + pageIndex; \r\n        if(search_key !== undefined) \r\n            url += '&search_key=' + search_key;\r\n    }\r\n    \r\n    function paginateAjax(e) {\r\n        e.preventDefault();\r\n        pageIndex = $(e.target).attr(\"href\").split(\"page=\")[1];\r\n        search_key = search.getSearchKey();\r\n        cacheValue();\r\n        $.ajax({\r\n            url : url,\r\n            type : 'get',\r\n            dataType: 'html',\r\n            error : function() {\r\n                //\r\n            },\r\n            beforeSend : function(xhr) {\r\n                (pageIndex === undefined) ? xhr.abort() : $(\".ajax-loading\").show();\r\n            }.bind(this),\r\n            success : function(response) {\r\n                $list_student.html(response);\r\n            }.bind(this)\r\n        });\r\n    }\r\n})();\r\n    \r\n\r\n// sticky search\r\n$(\".search-box\").sticky({ topSpacing: 0 });\r\n//slide up message\r\n$(\".alert-success\").delay(3000).slideUp();\r\n//confirm delete button\r\n$(\".btn-delete\").on('click', function() {\r\n    if (!confirm(\"Bạn có muốn xóa?\"))\r\n        return false;\r\n});\r\n// validate form student\r\n$(\"#create-student-form\").validate({\r\n    messages : {\r\n        student_code : \"Nhập mã sinh viên\",\r\n        fullname : \"Nhập tên sinh viên\",\r\n        birthday : \"Nhập ngày sinh\",\r\n        address : \"Nhập địa chỉ\"\r\n    }\r\n});\r\n\r\n//# sourceMappingURL=all.js.map\r\n//# sourceMappingURL=all.js.map\r\n//# sourceMappingURL=all.js.map"],"sourceRoot":"/source/"}